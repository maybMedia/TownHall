<?xml version="1.0" encoding="utf-8" ?>
<local:PageWithNavBar xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
			 xmlns:local="clr-namespace:TownHall"
             x:Class="TownHall.Listings">

	<Grid ColumnDefinitions="*,*" Padding="20" ColumnSpacing="20">

		<!-- Left Side -->
		<VerticalStackLayout Grid.Column="0" Spacing="15">
			<!-- Big Image -->
			<Grid HeightRequest="450">
				<!-- Big Image -->
				<Frame CornerRadius="20" 
					   HasShadow="False" 
					   Padding="0" 
					   IsClippedToBounds="True"
					   HorizontalOptions="Fill" 
					   VerticalOptions="Fill">
					<Image x:Name="Image"
							Aspect="AspectFill"
							HorizontalOptions="Fill"
							VerticalOptions="Fill" />
				</Frame>

				<!-- Overlay Button -->
				<Button Text="Select Image" 
						Clicked="OnSelectImageClicked"
						IsVisible="{Binding IsEditMode}"
						HorizontalOptions="Center"
						VerticalOptions="Center"
						BackgroundColor="#AA000000" 
						TextColor="White"/>
			</Grid>

			<!-- Input Fields -->
			<VerticalStackLayout Spacing="10">
				<VerticalStackLayout>
					<Label Text="Item Name"
							FontAttributes="Bold"
							FontSize="24"/>
					<Entry x:Name="NameEntry" 
							IsReadOnly="{Binding IsFieldsReadOnly}"
				    		Placeholder="Item name" />
				</VerticalStackLayout>

				<VerticalStackLayout>
					<Label Text="Summary"
                           FontAttributes="Bold"
                           FontSize="16"/>
					<Entry x:Name="SummaryEntry" 
						   IsReadOnly="{Binding IsFieldsReadOnly}"
						   Placeholder="Summary"/>
				</VerticalStackLayout>
			</VerticalStackLayout>
			<HorizontalStackLayout Spacing="15"
						   HorizontalOptions="Center"
						   VerticalOptions="Start"
						   Margin="0,20,0,0">

				<Button Text="Delete"
						x:Name="DeleteButton"
						IsVisible="{Binding IsEditMode}"
						IsEnabled="{Binding EnableDelete}"
						Clicked="OnDeleteClicked"
						BackgroundColor="#C7F9CC"
						TextColor="Black"
						CornerRadius="8"
						HeightRequest="50"
						WidthRequest="120"
						HorizontalOptions="Start"
						VerticalOptions="Center" />

				<Button Text="Save"
						x:Name="SaveButton"
						IsVisible="{Binding IsEditMode}"
						Clicked="OnSaveClicked"
						BackgroundColor="#57CC99"
						TextColor="White"
						CornerRadius="8"
						HeightRequest="50"
						WidthRequest="120"
						HorizontalOptions="End"
						VerticalOptions="Center" />
			</HorizontalStackLayout>
		</VerticalStackLayout>

		<!-- Right Side -->
		<Frame Grid.Column="1"
               BorderColor="LightGray"
			   BackgroundColor="#C7F9CC"
               CornerRadius="12"
               Padding="20"
               HasShadow="True">
			<VerticalStackLayout Spacing="15">
				<Label Text="Details"
					   FontAttributes="Bold"
					   FontSize="24"
					   HorizontalOptions="Center" />
				
				<VerticalStackLayout>
					<Label Text="Price"
					   FontAttributes="Bold"
					   FontSize="16"/>
					<Entry x:Name="PriceEntry" 
					   IsReadOnly="{Binding IsFieldsReadOnly}"
					   Placeholder="Price" />
				</VerticalStackLayout>

				<VerticalStackLayout>
					<Label Text="Description"
                           FontAttributes="Bold"
                           FontSize="16"/>
					<Entry x:Name="DescriptionEntry" 
						   IsReadOnly="{Binding IsFieldsReadOnly}"
						   Placeholder="Description" />
				</VerticalStackLayout>

				<VerticalStackLayout>
					<Label Text="Date Listed"
                           FontAttributes="Bold"
                           FontSize="16"/>
					<Entry x:Name="DateListedEntry" 
						   IsReadOnly="True"
						   Placeholder="Date listed" />
				</VerticalStackLayout>

				<VerticalStackLayout>
					<Label Text="Location"
                           FontAttributes="Bold"
                           FontSize="16"/>
					<Entry x:Name="LocationEntry" 
						   IsReadOnly="True"
						   Placeholder="Location"/>
				</VerticalStackLayout>

				<VerticalStackLayout>
					<Label Text="Seller"
                           FontAttributes="Bold"
                           FontSize="16"/>
					<Entry x:Name="SellerEntry"
						   IsReadOnly="True"
						   Placeholder="Seller"/>
				</VerticalStackLayout>
			</VerticalStackLayout>
		</Frame>

	</Grid>
</local:PageWithNavBar>
